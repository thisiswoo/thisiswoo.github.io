---
layout: post
title: "[JUnit] JUnit5"
subtitle: "JUnit"
category: development
tags: server JUnit5
image:
    path: /assets/img/development/server/2023-06-01/junit5_cover.png
---

> â€œí•´ë‹¹ í¬ìŠ¤íŒ…ì€ **ìš°ì•„í•œTech**ì˜ [**[10ë¶„ í…Œì½”í†¡] ğŸŒŠ ë°”ë‹¤ì˜ JUnit5 ì‚¬ìš©ë²•**](https://www.youtube.com/watch?v=EwI3E9Natcw&t=1s){:target="_blank"}ì„ ì°¸ê³ í•˜ì—¬ í¬ìŠ¤íŒ…í•˜ì˜€ìŠµë‹ˆë‹¤. ì˜ìƒì„ ì œì‘í•´ì£¼ì‹  **ìš°ì•„í•œTech**ì™€ **ë°”ë‹¤**ë‹˜ì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.â€

<span style="font-size:30px;">\#**ëª©ì°¨**</span>
* this unordered seed list will be replaced by the toc
{:toc}

# JUnit5

## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test) ë€?
> â€œí”„ë¡œê·¸ë˜ë°ì—ì„œ ì†ŒìŠ¤ ì½”ë“œì˜ íŠ¹ì • ëª¨ë“ˆì´ ì˜ë„ëœ ëŒ€ë¡œ ì •í™•íˆ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ì ˆì°¨ì´ë‹¤.â€

- ëª¨ë“  í•¨ìˆ˜ì™€ ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤(Test case)ë¥¼ ì‘ì„±í•˜ëŠ” ì ˆì°¨ë¥¼ ë§í•œë‹¤.
- ì´ë¥¼ í†µí•´ì„œ ì–¸ì œë¼ë„ ì½”ë“œ ë³€ê²½ìœ¼ë¡œ ì¸í•´ ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš°, ë‹¨ì‹œê°„ ë‚´ì— ì´ë¥¼ íŒŒì•…í•˜ê³  ë°”ë¡œ ì¡ì„ ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.

## JUnit ì´ë€?
> â€œ[JetBrains] ì¡°ì‚¬ì— ë”°ë¥´ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” `Java` ê°œë°œìì˜ `93%`ê°€ `JUnit`ì„ ì‚¬ìš©í•˜ê³ , `51%`ëŠ” `Mockito` ë¥¼ ì‚¬ìš©í•œë‹¤.â€

- `Java` ê°œë°œìì˜ `93%`ê°€ ì‚¬ìš©í•˜ëŠ” **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬**ì´ë‹¤.

## JUnit5 ë€?
- `JUnit5`ëŠ” 2017ë…„ 10ì›”ì— ê³µê°œ ë˜ì—ˆìœ¼ë©°, `SpringBoot 2.2`ë²„ì „ ì´ìƒë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆë‹¤.

![](/assets/img/development/server/2023-06-01/junit5-architecture.png){:.centered width="80%"}
**JUnit5 Architecture**
{:.figcaption}

> â€œ`JUnit4`ëŠ” í•˜ë‚˜ì˜ `jar` íŒŒì¼ë¡œ ì˜ì¡´ì„±ì„ ë¶ˆëŸ¬ì™€ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ì¡°í•´ì„œ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì˜€ëŠ”ë°, `JUnit5`ë¶€í„°ëŠ” `JUnit5`ê·¸ ìì²´ë¡œ ëª¨ë“ˆí™”ê°€ ë˜ì–´ìˆë‹¤. `JUnit5`ëŠ” 3ê°œì˜ í•˜ìœ„ í”„ë¡œì íŠ¸, ì¦‰ `JUnit Platform`, `JUnit Jupiter`, `JUnit Vintage`ë¡œ êµ¬ì„±ì´ ë˜ë©° `Java8`ë¶€í„° ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.â€

- `JUnit Platform` : í…ŒìŠ¤íŠ¸ë¥¼ ë°œê²¬í•˜ê³  í…ŒìŠ¤íŠ¸ ê³„íšì„ ìƒì„±í•˜ëŠ” `TestEngine` ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤. `Platform`ì€ `TestEngine`ì„ í†µí•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ **ë°œê²¬**í•˜ê³ , **ì‹¤í–‰**í•˜ë©°, **ê²°ê³¼ë¥¼ ë³´ê³ **í•œë‹¤.
- `JUnit Jupiter` : `TestEngine`ì˜ ì‹¤ì œ êµ¬í˜„ì²´ëŠ” ë³„ë„ ëª¨ë“ˆì´ë©°, ê·¸ ì¤‘ í•˜ë‚˜ê°€ `Jupiter-Engine`ì´ë‹¤. ì´ ëª¨ë“ˆì€ `Jupiter-API`ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë°œê²¬í•˜ê³  ì‹¤í–‰í•œë‹¤. `Jupiter API`ëŠ” `JUnit5`ì— ìƒˆë¡­ê²Œ ì¶”ê°€ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œìš© `API`ë¡œì„œ, ê°œë°œìëŠ” `Jupiter API`ë¥¼ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
- `JUnit Vintage` : ê¸°ì¡´ì— `JUnit4` ë²„ì „ìœ¼ë¡œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œì—ëŠ” `Vintage-Engine` ëª¨ë“ˆì„ ì‚¬ìš©í•œë‹¤.

### JUnit5 ì„¤ì • ë°©ë²•
- `SpringBoot` í”„ë¡œì íŠ¸
  - `SpringBoot` **2.2ë²„ì „** ì´ìƒë¶€í„°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `JUnit5` ì˜ì¡´ì •ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ì–´ ë”°ë¡œ ì„¤ì •í•  í•„ìš” ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

```groovy
// file: "build.gradle" 
// spring boot 3.0.6 ë²„ì „
dependencies {
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
tasks.named('test') {
    useJUnitPlatform()
}
```

- `SpringBoot` í”„ë¡œì íŠ¸ê°€ ì•„ë‹ ê²½ìš°
  - ë‹¤ìŒê³¼ ê°™ì´ ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

#### Maven Setup

```xml
<!-- file: "pom.xml"-->
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter-engine</artifactId>
    <version>5.9.1</version>
    <scope>test</scope>
</dependency>
```

**[JUnit5 Platform]{:target="_blank"}**
{:.figcaption}

#### Gradle Setup

```groovy
// file: "build.gradle"
test {
    useJUnitPlatform()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}
```

**[Using JUnit5 with Gradle]{:target="_blank"}**
{:.figcaption}

## JUnit5 @Annotations

> â€œ`JUnit Jupiter`ì—ëŠ” í…ŒìŠ¤íŠ¸ êµ¬ì„± ë° í”„ë ˆì„ì›Œí¬ í™•ì¥ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì„ ì§€ì›í•œë‹¤. ë‹¬ë¦¬ ëª…ì‹œë˜ì§€ ì•ŠëŠ” í•œ, ëª¨ë“  í•µì‹¬ ì–´ë…¸í…Œì´ì…˜ì€ `junit-jupiter-api` ëª¨ë“ˆì˜ `org.junit.jupiter.api` íŒ¨í‚¤ì§€ì— ìˆë‹¤.â€

| **`Annotation`**          | **`description`**                                                                                                                                                                                                                                                                                                                                                                           |
|:--------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `@Test`                   | ë©”ì„œë“œê°€ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. `JUnit4`ì˜ `@Test` ì–´ë…¸í…Œì´ì…˜ê³¼ ë‹¬ë¦¬ ì´ ì–´ë…¸í…Œì´ì…˜ì€ `attributes(ì†ì„±)`ë¥¼ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë°, ì´ëŠ” `JUnit Jupiter`ì˜ í…ŒìŠ¤íŠ¸ í™•ì¥ì´ ìì²´ ì „ìš© ì–´ë…¸í…Œì´ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*í•˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                |
| `@ParameterizedTest`      | ë©”ì„œë“œê°€ [ë§¤ê°œë³€ìˆ˜í™”ëœ í…ŒìŠ¤íŠ¸]{:target="_blank"}ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                                   |
| `@RepeatedTest`           | ë©”ì„œë“œê°€ [ë°˜ë³µ í…ŒìŠ¤íŠ¸]{:target="_blank"}ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                           |
| `@TestFactory`            | ë©”ì„œë“œê°€ [ë™ì  í…ŒìŠ¤íŠ¸]{:target="_blank"}ë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ íŒ©í† ë¦¬ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                           |
| `@TestTemplate`           | ë©”ì„œë“œê°€ ë“±ë¡ëœ í”„ë¡œë°”ì´ë”ê°€ ë°˜í™˜í•˜ëŠ” í˜¸ì¶œ ì»¨í…ìŠ¤íŠ¸ì˜ ìˆ˜ì— ë”°ë¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ë„ë¡ ì„¤ê³„ëœ [í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ìš© í…œí”Œë¦¿]{:target="_blank"}ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                   |
| `@TestClassOrder`         | ì–´ë…¸í…Œì´ì…˜ëœ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ `@Nested` í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ [í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰ ìˆœì„œ]{:target="_blank"}ë¥¼ êµ¬ì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                   |
| `@TestMethodOrder`        | ì–´ë…¸í…Œì´ì…˜ëœ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ [í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ ìˆœì„œ]{:target="_blank"}ë¥¼ êµ¬ì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, `JUnit4`ì˜ `@FixMethodOrder`ì™€ ìœ ì‚¬í•˜ë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                    |
| `@TestInstance`           | ì–´ë…¸í…Œì´ì…˜ëœ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ [í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´]{:target="_blank"}ì„ êµ¬ì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                     |
| `@DisplayName`            | í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì˜ ì‚¬ìš©ì ì§€ì • [ë””ìŠ¤í”Œë ˆì´ ì´ë¦„]{:target="_blank"}ì„ ì„ ì–¸í•œë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ë˜ì§€ ì•ŠëŠ”ë‹¤.                                                                                                                                                                                                                                                                                                       |
| `@DisplayNameGeneration`  | í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ì§€ì • [ë””ìŠ¤í”Œë ˆì´ ì´ë¦„ ìƒì„±ê¸°]{:target="_blank"}ë¥¼ ì„ ì–¸í•œë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                               |
| `@BeforeEach`             | `@BeforeEach` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œê°€ í˜„ì¬ í´ë˜ìŠ¤ì˜ **ê°ê°** `@Test`, `@RepeatedTest`, `@ParameterizedTest` ë˜ëŠ” `@TestFactory` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œ *ì „ì—* ì‹¤í–‰ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤(`JUnit4`ì˜ `@Before`ì™€ ìœ ì‚¬). ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ê±°ë‚˜ *ëŒ€ì²´*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ë©ë‹ˆë‹¤(ì¦‰, `Java`ì˜ í‘œì‹œ ê·œì¹™ì— ê´€ê³„ì—†ì´ ì„œëª…ë§Œ ê¸°ì¤€ìœ¼ë¡œ ëŒ€ì²´ë¨).                                                                                                                                         |
| `@AfterEach`              | `@AfterEach` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œê°€ í˜„ì¬ í´ë˜ìŠ¤ì˜ **ê°ê°** `@Test`, `@RepeatedTest`, `@ParameterizedTest` ë˜ëŠ” `@TestFactory` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œ *ì´í›„*ì— ì‹¤í–‰ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤(`JUnit4`ì˜ `@After`ì™€ ìœ ì‚¬). ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ì¬ì •ì˜*ë˜ê±°ë‚˜ *ëŒ€ì²´*ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤(ì¦‰, `Java`ì˜ í‘œì‹œ ê·œì¹™ì— ê´€ê³„ì—†ì´ ì„œëª…ë§Œ ê¸°ì¤€ìœ¼ë¡œ ëŒ€ì²´ë¨).                                                                                                                                           |
| `@BeforeAll`              | `@BeforeAll` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œê°€ í˜„ì¬ í´ë˜ìŠ¤ì˜ **ëª¨ë“ ** `@Test`, `@RepeatedTest`, `@ParameterizedTest` ë° `@TestFactory` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œë³´ë‹¤ *ë¨¼ì €* ì‹¤í–‰ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤(`JUnit4`ì˜ `@BeforeClass`ì™€ ìœ ì‚¬). ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ìˆ¨ê²¨*ì§€ê±°ë‚˜ *ì¬ì •ì˜*ë˜ê±°ë‚˜ *ëŒ€ì²´*ë˜ì§€ ì•ŠëŠ” í•œ(ì¦‰, `Java`ì˜ í‘œì‹œ ê·œì¹™ì— ê´€ê³„ì—†ì´ ì„œëª…ë§Œ ê¸°ì¤€ìœ¼ë¡œ ëŒ€ì²´ë˜ì§€ ì•ŠëŠ” í•œ) *ìƒì†*ë˜ë©°, "í´ë˜ìŠ¤-ë³„" [í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´]{:target="_blank"}ì´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•œ `ì •ì (static)`ì´ì–´ì•¼ í•©ë‹ˆë‹¤.                                           |
| `@AfterAll`               | `@AfterAll` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œê°€ í˜„ì¬ í´ë˜ìŠ¤ì˜ **ëª¨ë“ ** `@Test`, `@RepeatedTest`, `@ParameterizedTest`, `@TestFactory` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° ë©”ì„œë“œ *ë‹¤ìŒì—* ì‹¤í–‰ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤(`JUnit4`ì˜ `@AfterClass`ì™€ ìœ ì‚¬). ì´ëŸ¬í•œ ë©”ì„œë“œëŠ” *ìˆ¨ê²¨*ì§€ê±°ë‚˜ *ì¬ì •ì˜*ë˜ê±°ë‚˜ *ëŒ€ì²´*ë˜ì§€ ì•ŠëŠ” í•œ(ì¦‰, `Java`ì˜ í‘œì‹œ ê·œì¹™ì— ê´€ê³„ì—†ì´ ì„œëª…ë§Œ ê¸°ì¤€ìœ¼ë¡œ ëŒ€ì²´ë˜ì§€ ì•ŠëŠ” í•œ) *ìƒì†*ë˜ë©°, "í´ë˜ìŠ¤-ë³„" í…ŒìŠ¤íŠ¸ [í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´]{:target="_blank"}ì´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•œ `ì •ì (static)`ì´ì–´ì•¼ í•©ë‹ˆë‹¤.                                           |
| `@Nested`                 | `@Nested` ì–´ë…¸í…Œì´ì…˜ì´ ë‹¬ë¦° í´ë˜ìŠ¤ê°€ `ì •ì (static)`ì´ ì•„ë‹Œ [ì¤‘ì²©ëœ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤]{:target="_blank"}ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. `Java8`ë¶€í„° `Java15`ê¹Œì§€ì—ì„œëŠ” "í´ë˜ìŠ¤-ë³„" í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•œ @BeforeAll ë° @AfterAll ë©”ì„œë“œë¥¼ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. `Java16`ë¶€í„°ëŠ” [í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´]{:target="_blank"} ëª¨ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ì—¬ `@Nested` í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ `@BeforeAll` ë° `@AfterAll` ë©”ì„œë“œë¥¼ `ì •ì (static)`ìœ¼ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ë˜ì§€ ì•ŠëŠ”ë‹¤.                   |
| `@Tag`                    | `Class` ë˜ëŠ” `Method` ìˆ˜ì¤€ì—ì„œ [í…ŒìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•˜ê¸° ìœ„í•œ íƒœê·¸]{:target="_blank"}ë¥¼ ì„ ì–¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, `TestNG` ë˜ëŠ” `JUnit4`ì˜ ë²”ì£¼ì— ìˆëŠ” í…ŒìŠ¤íŠ¸ ê·¸ë£¹ê³¼ ìœ ì‚¬í•˜ë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ **í´ë˜ìŠ¤** ìˆ˜ì¤€ì—ì„œëŠ” *ìƒì†*ë˜ì§€ë§Œ, **ë©”ì„œë“œ** ìˆ˜ì¤€ì—ì„œëŠ” *ìƒì†*ë˜ì§€ ì•ŠëŠ”ë‹¤.                                                                                                                                                                                                          |
| `@Disabled`               | `Test Class` ë˜ëŠ” `Test Method`ë¥¼ [ë¹„í™œì„±í™”]{:target="_blank"}í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, `JUnit4`ì˜ `@Ignore`ì™€ ìœ ì‚¬í•˜ë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ë˜ì§€ ì•ŠëŠ”ë‹¤.                                                                                                                                                                                                                                                                         |
| `@Timeout`                | `@Test`, `@TestFactory`, `@TestTemplate` ë˜ëŠ” `lifecycle method`ì˜ ì‹¤í–‰ì´ ì§€ì •ëœ ê¸°ê°„ì„ **ì´ˆê³¼**í•˜ëŠ” ê²½ìš° **ì‹¤íŒ¨**í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                 |
| `@ExtendWith`             | [í™•ì¥ì„ ì„ ì–¸ì ìœ¼ë¡œ ë“±ë¡]{:target="_blank"}í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                                               |
| `@RegisterExtension`      | [í•„ë“œë¥¼ í†µí•´ í™•ì¥ì„ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ë“±ë¡]{:target="_blank"}í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ í•„ë“œëŠ” *ìŒì˜* ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” í•œ *ìƒì†*ëœë‹¤.                                                                                                                                                                                                                                                                                                       |
| `@TempDir`                | `lifecycle method` ë˜ëŠ” `test method`ì—ì„œ í•„ë“œ ì£¼ì… ë˜ëŠ” ë§¤ê°œë³€ìˆ˜ ì£¼ì…ì„ í†µí•´ [ì„ì‹œ ë””ë ‰í„°ë¦¬]{:target="_blank"}ë¥¼ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, `org.junit.jupiter.api.io` íŒ¨í‚¤ì§€ì— ìˆë‹¤.                                                                                                                                                                                                                                                    |

## JUnit4 vs JUnit5 @Annotations ìƒëª…ì£¼ê¸°(LifeCycle)

| **`Feature`**                                                                                             | **`JUnit4`**   | **`JUnit5`**   |
|:----------------------------------------------------------------------------------------------------------|:---------------|:---------------|
| Test Methodì„ì„ ì„ ì–¸                                                                                          | `@Test`        | `@Test`        |
| í•´ë‹¹ í´ë˜ìŠ¤ì— ìœ„ì¹˜í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ **ì „**ì— **ë”± í•œ ë²ˆ** ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ. `@BeforeAll` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  `static`ì„ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤.     | `@BeforeClass` | `@BeforeAll`   |
| í•´ë‹¹ í´ë˜ìŠ¤ì— ìœ„ì¹˜í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ **í›„**ì— **ë”± í•œ ë²ˆ** ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ `@AfterAll` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  `static`ì„ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤.      | `@AfterClass`  | `@AfterAll`    |
| í•´ë‹¹ í´ë˜ìŠ¤ì— ìœ„ì¹˜í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ **ì „**ì— ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ                                                                 | `@Before`      | `@BeforeEach`  |
| í•´ë‹¹ í´ë˜ìŠ¤ì— ìœ„ì¹˜í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ **í›„**ì— ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ                                                                 | `@After`       | `@AfterEach`   |
| `Test Method`ë‚˜ `Class`ë¥¼ **ë¹„í™œì„±í™”**                                                                          | `@Ignore`      | `@Disabled`    |
| ë™ì  í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©                                                                                                | N/A            | `@TestFactory` |
| ì¤‘ì²© í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©                                                                                                | N/A            | `@Nested`      |
| íƒœê·¸ ì§€ì • ë° í•„í„°ë§                                                                                               | `@Category`    | `@Tag`         |
| í™•ì¥ì„ ì„ ì–¸ì ìœ¼ë¡œ ë“±ë¡í•  ë•Œ ì‚¬ìš©                                                                                        | N/A            | `@ExtendWith`  |

### @BeforeAll vs @BeforeEach ì™€ @AfterAll vs @AfterEach

- ë‘ ê°œ ì–´ë…¸í…Œì´ì…˜ ëª¨ë‘ í•˜ë‚˜ í˜¹ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¡°ê±´ì„ `setup`í•  ë•Œ ì‚¬ìš©í•˜ì§€ë§Œ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ê°€ ìˆëŠ” ê²½ìš° `@BeforeEach`ì™€ `@AfterEach`ëŠ” ì—¬ëŸ¬ë²ˆ ì‹¤í–‰ë˜ì§€ë§Œ, `@BeforeAll`ì™€ `@AfterAll`ì€ ë”± í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤.
- `@BeforeEach`ì™€ `@AfterEach`ëŠ” `@Test` ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œê°€ ì‹¤í–‰ì´ ë˜ê¸° ì „(`@BeforeEach`)ê³¼ í›„(`@AfterEach`) ì‹¤í–‰ì´ ëœë‹¤.
- `@BeforeAll`ê³¼ `@AfterAll`ì€ í•´ë‹¹ í´ë˜ìŠ¤ ë‚´ì— ì²˜ìŒ ì‹œì‘(`@BeforeAll`)ê³¼ ë§¨ ë§ˆì§€ë§‰ ë(`@AfterAll`)ì— ì‹¤í–‰ì´ ëœë‹¤.

#### JUnit5 LifeCycle ì˜ˆì‹œ

```java
class JUnit5LifeCycleTest {

    @BeforeAll
    static void setup() {
        System.out.println("@BeforeAll - executes once before all test methods in this class");
    }
  
    @BeforeEach
    void init() {
        System.out.println("@BeforeEach - executes before each test method in this class");
    }
  
    @AfterEach
    void tearDown() {
        System.out.println("@AfterEach - executed after each test method.");
    }
  
    @AfterAll
    static void tearDownAll() {
        System.out.println("@AfterAll - executed after all test methods.");
    }
  
    @Test
    void successTest1() {
        System.out.println("executes successTest1");
        assumeTrue("abc".contains("a"));
    }
  
    @Test
    void successTest2() {
        System.out.println("executes successTest2");
        assumeTrue("abc".contains("b"));
    }

    @Test
    @Disabled("ë¬¸ì œê°€ í•´ê²°ë  ë•Œê¹Œì§€ í…ŒìŠ¤íŠ¸ ì¤‘ë‹¨")
    void successTest3() {
        System.out.println("executes successTest3");
        assumeTrue("abc".contains("c"));
    }
    
    // ì¶œë ¥ ---------------------------------------------------------
    /*
      @BeforeAll - executes once before all test methods in this class
      @BeforeEach - executes before each test method in this class
      executes successTest1
      @AfterEach - executed after each test method.
      @BeforeEach - executes before each test method in this class
      executes successTest2
      @AfterEach - executed after each test method.
      @AfterAll - executed after all test methods.
    */
}
```

##### ê²°ê³¼ ì¶œë ¥

![](/assets/img/development/server/2023-06-01/junit_lifecycle_example.png){:.centered width="80%"}
**JUnit5 LifeCycle Example 1**
{:.figcaption}

## Annotations
### Annotations - @Test

```java
class JUnitTest() {
    // JUnit4
    @Test(exptected = Exception.class)
    public void ìƒí’ˆì£¼ë¬¸() throws Exception {
        // ...
    }
    
    // JUnit5
    @Test
    void ìƒí’ˆì£¼ë¬¸() {
        // ...
    }
}
```

- í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¼ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ëŠ” ì–´ë…¸í…Œì´ì…˜
- `JUnit4`ì™€ ë‹¤ë¥´ê²Œ ì–´ë– í•œ ì†ì„±ë„ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë‹¤.

### Annotations - @Disabled
- **í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³  ì‹¶ì§€ ì•Šì€** í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œì— ë¶™ì´ëŠ” ì–´ë…¸í…Œì´ì…˜
- `JUnit4`ì˜ `@Ignore`ê³¼ ìœ ì‚¬

```java
class DisabledExample {
    
    @Test
    @Disabled("ë¬¸ì œê°€ í•´ê²°ë  ë•Œê¹Œì§€ í…ŒìŠ¤íŠ¸ ì¤‘ë‹¨")
    void í…ŒìŠ¤íŠ¸1() {
        System.out.println("í…ŒìŠ¤íŠ¸1");
    }
    
    @Test
    void í…ŒìŠ¤íŠ¸2() {
        System.out.println("í…ŒìŠ¤íŠ¸2");
    }
}
```

### Annotations - @DisplayName
- ì–´ë–¤ í…ŒìŠ¤íŠ¸ì¸ì§€ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜
- **ê³µë°±, Emoji, íŠ¹ìˆ˜ë¬¸ì** ë“±ì„ ëª¨ë‘ ì§€ì›

```java
@DisplayName("íŠ¹ìˆ˜ í…ŒìŠ¤íŠ¸\uD83D\uDE00")
public class DisplayNameTest {

  @Test
  @DisplayName("êµ‰ì¥í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.")
  void ë””ìŠ¤í”Œë ˆì´_ë„¤ì„_í…ŒìŠ¤íŠ¸() {
    System.out.println("êµ‰ì¥í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.");
  }
}
```

![](/assets/img/development/server/2023-06-01/junit5_displayname.png){:.centered width="100%"}
**@DisplayName ê²°ê³¼**
{:.figcaption}

### Annotations - @RepeatedTest
- íŠ¹ì • í…ŒìŠ¤íŠ¸ë¥¼ **ë°˜ë³µ**ì‹œí‚¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
- ë°˜ë³µ íšìˆ˜ì™€ ë°˜ë³µ í…ŒìŠ¤íŠ¸ ì´ë¦„ì„ ì„¤ì • ê°€ëŠ¥
- ì„±ëŠ¥ì  ì´ìŠˆë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©

```java
public class RepeatTest {
  @RepeatedTest(5)
  @DisplayName("ë°˜ë³µ í…ŒìŠ¤íŠ¸1")
  void repeatedTest1() {
    // ...
  }

  @RepeatedTest(value = 5, name = "ë°˜ë³µ í…ŒìŠ¤íŠ¸2 ì¤‘ {currentRepetition} of {totalRepetitions}")
  @DisplayName("ë°˜ë³µ í…ŒìŠ¤íŠ¸2")
  void repeatedTest2() {
    // ...
  }
}
```

![](/assets/img/development/server/2023-06-01/junit5_repeatedtest.png){:.centered width="100%"}
**@RepeatedTest ê²°ê³¼**
{:.figcaption}

### Annotations - @ParameterizedTest
- í…ŒìŠ¤íŠ¸ì— ì—¬ëŸ¬ ë‹¤ë¥¸ **ë§¤ê°œë³€ìˆ˜**ë¥¼ ëŒ€ì…í•´ê°€ë©°, í…ŒìŠ¤íŠ¸ë¥¼ **ë°˜ë³µì **ìœ¼ë¡œ í•´ì•¼í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.
- ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ê°€ë…ì„±ì´ í–¥ìƒë˜ê³ , í…ŒìŠ¤íŠ¸ì˜ ì„±ê²©ì´ë‚˜ ëª©ì  ë“±ì„ ì˜ ë“œëŸ¬ë‚¼ ìˆ˜ ìˆê²Œëœë‹¤.

```java
class ParameterizedTest() {
    
    @DisplayName("1 ~ 10000ì„ ì œì™¸í•œ ê°’ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.")
    @ParameterizedTest
    @ValueSource(ints = {0, 10001})
    void create_ExceptionByNegativeOrZero(final int wrongValue) {
        assertThatIllegalArgumentException().isThrownBy(() -> Bett);
    }
}
```








## Assertions
## JUnit4ì™€ JUnit5 ì°¨ì´ í•œ ëˆˆì— ë³´ê¸°

# Reference
- [JUnit5](https://junit.org/junit5/docs/current/user-guide/){:target="_blank"}
- [[10ë¶„ í…Œì½”í†¡] ğŸŒŠ ë°”ë‹¤ì˜ JUnit5 ì‚¬ìš©ë²•](https://www.youtube.com/watch?v=EwI3E9Natcw&t=1s){:target="_blank"}
- [JetBrains ì„¤ë¬¸ì¡°ì‚¬](https://www.jetbrains.com/lp/devecosystem-2019/java/){:target="_blank"}
- [MANNING FREE CONTENT CENTER](https://freecontent.manning.com/junit-5-architecture/){:target="_blank"}
- [JUnit5 í•„ìˆ˜ ê°œë… ì •ë¦¬ (JAVA)](https://steady-coding.tistory.com/349){:target="_blank"}
- [JUnit5 ì•Œì•„ë³´ê¸°](https://beomseok95.tistory.com/303){:target="_blank"}
- [JUnit5 Platform](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html){:target="_blank"}
- [Using JUnit5 with Gradle](https://www.baeldung.com/junit-5-gradle){:target="_blank"}

<!-- Links -->
[JetBrains]: https://www.jetbrains.com/lp/devecosystem-2019/java/
[ë§¤ê°œë³€ìˆ˜í™”ëœ í…ŒìŠ¤íŠ¸]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests
[ë°˜ë³µ í…ŒìŠ¤íŠ¸]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-repeated-tests
[ë™ì  í…ŒìŠ¤íŠ¸]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests
[í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ìš© í…œí”Œë¦¿]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-templates
[í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰ ìˆœì„œ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-classes
[í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰ ìˆœì„œ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods
[í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle
[ë””ìŠ¤í”Œë ˆì´ ì´ë¦„]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names
[ë””ìŠ¤í”Œë ˆì´ ì´ë¦„ ìƒì„±ê¸°]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-name-generator
[ì¤‘ì²©ëœ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-nested
[í…ŒìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•˜ê¸° ìœ„í•œ íƒœê·¸]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-tagging-and-filtering
[ë¹„í™œì„±í™”]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-disabling
[í™•ì¥ì„ ì„ ì–¸ì ìœ¼ë¡œ ë“±ë¡]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative
[í•„ë“œë¥¼ í†µí•´ í™•ì¥ì„ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ë“±ë¡]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic
[ì„ì‹œ ë””ë ‰í„°ë¦¬]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory
[JUnit5 Platform]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html
[Using JUnit5 with Gradle]: https://www.baeldung.com/junit-5-gradle