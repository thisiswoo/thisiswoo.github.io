---
layout: post
title: "[JUnit5] JUnit5"
subtitle: "JUnit"
category: development
tags: server JUnit5
image:
    path: /assets/img/development/server/2023-06-01/junit5_cover.png
---

> β€ν•΄λ‹Ή ν¬μ¤ν…μ€ **μ°μ•„ν•Tech**μ [**[10λ¶„ ν…μ½”ν†΅] π λ°”λ‹¤μ JUnit5 μ‚¬μ©λ²•**](https://www.youtube.com/watch?v=EwI3E9Natcw&t=1s){:target="_blank"}μ„ μ°Έκ³ ν•μ—¬ ν¬μ¤ν…ν•μ€μµλ‹λ‹¤. μμƒμ„ μ μ‘ν•΄μ£Όμ‹  **μ°μ•„ν•Tech**μ™€ **λ°”λ‹¤**λ‹μ—κ² κ°μ‚¬λ“λ¦½λ‹λ‹¤.β€

<span style="font-size:30px;">\#**λ©μ°¨**</span>
* this unordered seed list will be replaced by the toc
{:toc}

# JUnit5

## λ‹¨μ„ ν…μ¤νΈ(Unit Test) λ€?
> β€ν”„λ΅κ·Έλλ°μ—μ„ μ†μ¤ μ½”λ“μ νΉμ • λ¨λ“μ΄ μλ„λ λ€λ΅ μ •ν™•ν μ‘λ™ν•λ”μ§€ κ²€μ¦ν•λ” μ μ°¨μ΄λ‹¤.β€

- λ¨λ“  ν•¨μμ™€ λ©”μ„λ“μ— λ€ν• ν…μ¤νΈ μΌ€μ΄μ¤(Test case)λ¥Ό μ‘μ„±ν•λ” μ μ°¨λ¥Ό λ§ν•λ‹¤.
- μ΄λ¥Ό ν†µν•΄μ„ μ–Έμ λΌλ„ μ½”λ“ λ³€κ²½μΌλ΅ μΈν•΄ λ¬Έμ κ°€ λ°μƒν•  κ²½μ°, λ‹¨μ‹κ°„ λ‚΄μ— μ΄λ¥Ό νμ•…ν•κ³  λ°”λ΅ μ΅μ„ μ μλ„λ΅ ν•΄μ¤€λ‹¤.

## JUnit μ΄λ€?
> β€[JetBrains] μ΅°μ‚¬μ— λ”°λ¥΄λ©΄ λ‹¨μ„ ν…μ¤νΈλ¥Ό μν–‰ν•λ” `Java` κ°λ°μμ `93%`κ°€ `JUnit`μ„ μ‚¬μ©ν•κ³ , `51%`λ” `Mockito` λ¥Ό μ‚¬μ©ν•λ‹¤.β€

- `Java` κ°λ°μμ `93%`κ°€ μ‚¬μ©ν•λ” **λ‹¨μ„ ν…μ¤νΈ ν”„λ μ„μ›ν¬**μ΄λ‹¤.

## JUnit5 λ€?
- `JUnit5`λ” 2017λ…„ 10μ›”μ— κ³µκ° λμ—μΌλ©°, `SpringBoot 2.2`λ²„μ „ μ΄μƒλ¶€ν„° κΈ°λ³ΈμΌλ΅ μ κ³µν•κ³  μλ‹¤.

![](/assets/img/development/server/2023-06-01/junit5-architecture.png){:.centered width="80%"}
**JUnit5 Architecture**
{:.figcaption}

> β€`JUnit4`λ” ν•λ‚μ `jar` νμΌλ΅ μμ΅΄μ„±μ„ λ¶λ¬μ™€ λ‹¤λ¥Έ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ°Έμ΅°ν•΄μ„ μ‚¬μ©ν•λ” κµ¬μ΅°μ€λ”λ°, `JUnit5`λ¶€ν„°λ” `JUnit5`κ·Έ μμ²΄λ΅ λ¨λ“ν™”κ°€ λμ–΄μλ‹¤. `JUnit5`λ” 3κ°μ ν•μ„ ν”„λ΅μ νΈ, μ¦‰ `JUnit Platform`, `JUnit Jupiter`, `JUnit Vintage`λ΅ κµ¬μ„±μ΄ λλ©° `Java8`λ¶€ν„° μ‚¬μ©κ°€λ¥ν•λ‹¤.β€

- `JUnit Platform` : ν…μ¤νΈλ¥Ό λ°κ²¬ν•κ³  ν…μ¤νΈ κ³„νμ„ μƒμ„±ν•λ” `TestEngine` μΈν„°νμ΄μ¤λ¥Ό κ°€μ§€κ³  μλ‹¤. `Platform`μ€ `TestEngine`μ„ ν†µν•΄μ„ ν…μ¤νΈλ¥Ό **λ°κ²¬**ν•κ³ , **μ‹¤ν–‰**ν•λ©°, **κ²°κ³Όλ¥Ό λ³΄κ³ **ν•λ‹¤.
- `JUnit Jupiter` : `TestEngine`μ μ‹¤μ  κµ¬ν„μ²΄λ” λ³„λ„ λ¨λ“μ΄λ©°, κ·Έ μ¤‘ ν•λ‚κ°€ `Jupiter-Engine`μ΄λ‹¤. μ΄ λ¨λ“μ€ `Jupiter-API`λ¥Ό μ‚¬μ©ν•΄μ„ μ‘μ„±ν• ν…μ¤νΈ μ½”λ“λ¥Ό λ°κ²¬ν•κ³  μ‹¤ν–‰ν•λ‹¤. `Jupiter API`λ” `JUnit5`μ— μƒλ΅­κ² μ¶”κ°€λ ν…μ¤νΈ μ½”λ“μ© `API`λ΅μ„, κ°λ°μλ” `Jupiter API`λ¥Ό μ‚¬μ©ν•΄μ„ ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.
- `JUnit Vintage` : κΈ°μ΅΄μ— `JUnit4` λ²„μ „μΌλ΅ μ‘μ„±ν• ν…μ¤νΈ μ½”λ“λ¥Ό μ‹¤ν–‰ν•  λ•μ—λ” `Vintage-Engine` λ¨λ“μ„ μ‚¬μ©ν•λ‹¤.

### JUnit5 μ„¤μ • λ°©λ²•
- `SpringBoot` ν”„λ΅μ νΈ
  - `SpringBoot` **2.2λ²„μ „** μ΄μƒλ¶€ν„°λ” κΈ°λ³Έμ μΌλ΅ `JUnit5` μμ΅΄μ •μ΄ μλ™μΌλ΅ μ¶”κ°€λμ–΄ λ”°λ΅ μ„¤μ •ν•  ν•„μ” μ—†μ΄ λ°”λ΅ μ‚¬μ© κ°€λ¥ν•λ‹¤.

```groovy
// file: "build.gradle" 
// spring boot 3.0.6 λ²„μ „ (2023-05-03 κΈ°μ¤€)
dependencies {
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
tasks.named('test') {
    useJUnitPlatform()
}
```

- `SpringBoot` ν”„λ΅μ νΈκ°€ μ•„λ‹ κ²½μ°
  - λ‹¤μκ³Ό κ°™μ΄ μμ΅΄μ„±μ„ μ¶”κ°€ν•΄μ£Όλ©΄ λλ‹¤.

#### Maven Setup

```xml
<!-- file: "pom.xml"-->
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter-engine</artifactId>
    <version>5.9.1</version>
    <scope>test</scope>
</dependency>
```

**[JUnit5 Platform]{:target="_blank"}**
{:.figcaption}

#### Gradle Setup

```groovy
// file: "build.gradle"
test {
    useJUnitPlatform()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}
```

**[Using JUnit5 with Gradle]{:target="_blank"}**
{:.figcaption}

## JUnit5 @Annotations

> β€`JUnit Jupiter`μ—λ” ν…μ¤νΈ κµ¬μ„± λ° ν”„λ μ„μ›ν¬ ν™•μ¥μ„ μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ μ–΄λ…Έν…μ΄μ…μ„ μ§€μ›ν•λ‹¤. λ‹¬λ¦¬ λ…μ‹λμ§€ μ•λ” ν•, λ¨λ“  ν•µμ‹¬ μ–΄λ…Έν…μ΄μ…μ€ `junit-jupiter-api` λ¨λ“μ `org.junit.jupiter.api` ν¨ν‚¤μ§€μ— μλ‹¤.β€

| **`Annotation`**          | **`description`**                                                                                                                                                                                                                                                                                                                                                                           |
|:--------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `@Test`                   | λ©”μ„λ“κ°€ ν…μ¤νΈ λ©”μ„λ“μ„μ„ λ‚νƒ€λ‚Έλ‹¤. `JUnit4`μ `@Test` μ–΄λ…Έν…μ΄μ…κ³Ό λ‹¬λ¦¬ μ΄ μ–΄λ…Έν…μ΄μ…μ€ `attributes(μ†μ„±)`λ¥Ό μ„ μ–Έν•μ§€ μ•λ”λ°, μ΄λ” `JUnit Jupiter`μ ν…μ¤νΈ ν™•μ¥μ΄ μμ²΄ μ „μ© μ–΄λ…Έν…μ΄μ…μ„ κΈ°λ°μΌλ΅ μ‘λ™ν•κΈ° λ•λ¬Έμ΄λ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*ν•μ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                |
| `@ParameterizedTest`      | λ©”μ„λ“κ°€ [λ§¤κ°λ³€μν™”λ ν…μ¤νΈ]{:target="_blank"}μ„μ„ λ‚νƒ€λ‚Έλ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                                   |
| `@RepeatedTest`           | λ©”μ„λ“κ°€ [λ°λ³µ ν…μ¤νΈ]{:target="_blank"}μ— λ€ν• ν…μ¤νΈ ν…ν”λ¦Ώμ„μ„ λ‚νƒ€λ‚Έλ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                           |
| `@TestFactory`            | λ©”μ„λ“κ°€ [λ™μ  ν…μ¤νΈ]{:target="_blank"}λ¥Ό μ„ν• ν…μ¤νΈ ν©ν† λ¦¬μ„μ„ λ‚νƒ€λ‚Έλ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                           |
| `@TestTemplate`           | λ©”μ„λ“κ°€ λ“±λ΅λ ν”„λ΅λ°”μ΄λ”κ°€ λ°ν™ν•λ” νΈμ¶ μ»¨ν…μ¤νΈμ μμ— λ”°λΌ μ—¬λ¬ λ² νΈμ¶λλ„λ΅ μ„¤κ³„λ [ν…μ¤νΈ μΌ€μ΄μ¤μ© ν…ν”λ¦Ώ]{:target="_blank"}μ„μ„ λ‚νƒ€λ‚Έλ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                   |
| `@TestClassOrder`         | μ–΄λ…Έν…μ΄μ…λ ν…μ¤νΈ ν΄λμ¤μ—μ„ `@Nested` ν…μ¤νΈ ν΄λμ¤μ— λ€ν• [ν…μ¤νΈ ν΄λμ¤ μ‹¤ν–‰ μμ„]{:target="_blank"}λ¥Ό κµ¬μ„±ν•λ” λ° μ‚¬μ©λλ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                   |
| `@TestMethodOrder`        | μ–΄λ…Έν…μ΄μ…λ ν…μ¤νΈ ν΄λμ¤μ— λ€ν• [ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ μμ„]{:target="_blank"}λ¥Ό κµ¬μ„±ν•λ” λ° μ‚¬μ©λλ©°, `JUnit4`μ `@FixMethodOrder`μ™€ μ μ‚¬ν•λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                    |
| `@TestInstance`           | μ–΄λ…Έν…μ΄μ…λ ν…μ¤νΈ ν΄λμ¤μ— λ€ν• [ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄]{:target="_blank"}μ„ κµ¬μ„±ν•λ” λ° μ‚¬μ©λλ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                     |
| `@DisplayName`            | ν…μ¤νΈ ν΄λμ¤ λλ” ν…μ¤νΈ λ©”μ„λ“μ μ‚¬μ©μ μ§€μ • [λ””μ¤ν”λ μ΄ μ΄λ¦„]{:target="_blank"}μ„ μ„ μ–Έν•λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λμ§€ μ•λ”λ‹¤.                                                                                                                                                                                                                                                                                                       |
| `@DisplayNameGeneration`  | ν…μ¤νΈ ν΄λμ¤μ— λ€ν• μ‚¬μ©μ μ§€μ • [λ””μ¤ν”λ μ΄ μ΄λ¦„ μƒμ„±κΈ°]{:target="_blank"}λ¥Ό μ„ μ–Έν•λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                               |
| `@BeforeEach`             | `@BeforeEach` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“κ°€ ν„μ¬ ν΄λμ¤μ **κ°κ°** `@Test`, `@RepeatedTest`, `@ParameterizedTest` λλ” `@TestFactory` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“ *μ „μ—* μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤(`JUnit4`μ `@Before`μ™€ μ μ‚¬). μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λκ±°λ‚ *λ€μ²΄*λμ§€ μ•λ” ν• *μƒμ†*λ©λ‹λ‹¤(μ¦‰, `Java`μ ν‘μ‹ κ·μΉ™μ— κ΄€κ³„μ—†μ΄ μ„λ…λ§ κΈ°μ¤€μΌλ΅ λ€μ²΄λ¨).                                                                                                                                         |
| `@AfterEach`              | `@AfterEach` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“κ°€ ν„μ¬ ν΄λμ¤μ **κ°κ°** `@Test`, `@RepeatedTest`, `@ParameterizedTest` λλ” `@TestFactory` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“ *μ΄ν›„*μ— μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤(`JUnit4`μ `@After`μ™€ μ μ‚¬). μ΄λ¬ν• λ©”μ„λ“λ” *μ¬μ •μ*λκ±°λ‚ *λ€μ²΄*λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤(μ¦‰, `Java`μ ν‘μ‹ κ·μΉ™μ— κ΄€κ³„μ—†μ΄ μ„λ…λ§ κΈ°μ¤€μΌλ΅ λ€μ²΄λ¨).                                                                                                                                           |
| `@BeforeAll`              | `@BeforeAll` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“κ°€ ν„μ¬ ν΄λμ¤μ **λ¨λ“ ** `@Test`, `@RepeatedTest`, `@ParameterizedTest` λ° `@TestFactory` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“λ³΄λ‹¤ *λ¨Όμ €* μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤(`JUnit4`μ `@BeforeClass`μ™€ μ μ‚¬). μ΄λ¬ν• λ©”μ„λ“λ” *μ¨κ²¨*μ§€κ±°λ‚ *μ¬μ •μ*λκ±°λ‚ *λ€μ²΄*λμ§€ μ•λ” ν•(μ¦‰, `Java`μ ν‘μ‹ κ·μΉ™μ— κ΄€κ³„μ—†μ΄ μ„λ…λ§ κΈ°μ¤€μΌλ΅ λ€μ²΄λμ§€ μ•λ” ν•) *μƒμ†*λλ©°, "ν΄λμ¤-λ³„" [ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄]{:target="_blank"}μ΄ μ‚¬μ©λμ§€ μ•λ” ν• `μ •μ (static)`μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.                                           |
| `@AfterAll`               | `@AfterAll` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“κ°€ ν„μ¬ ν΄λμ¤μ **λ¨λ“ ** `@Test`, `@RepeatedTest`, `@ParameterizedTest`, `@TestFactory` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° λ©”μ„λ“ *λ‹¤μμ—* μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤(`JUnit4`μ `@AfterClass`μ™€ μ μ‚¬). μ΄λ¬ν• λ©”μ„λ“λ” *μ¨κ²¨*μ§€κ±°λ‚ *μ¬μ •μ*λκ±°λ‚ *λ€μ²΄*λμ§€ μ•λ” ν•(μ¦‰, `Java`μ ν‘μ‹ κ·μΉ™μ— κ΄€κ³„μ—†μ΄ μ„λ…λ§ κΈ°μ¤€μΌλ΅ λ€μ²΄λμ§€ μ•λ” ν•) *μƒμ†*λλ©°, "ν΄λμ¤-λ³„" ν…μ¤νΈ [ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄]{:target="_blank"}μ΄ μ‚¬μ©λμ§€ μ•λ” ν• `μ •μ (static)`μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.                                           |
| `@Nested`                 | `@Nested` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° ν΄λμ¤κ°€ `μ •μ (static)`μ΄ μ•„λ‹ [μ¤‘μ²©λ ν…μ¤νΈ ν΄λμ¤]{:target="_blank"}μ„μ„ λ‚νƒ€λ‚Έλ‹¤. `Java8`λ¶€ν„° `Java15`κΉμ§€μ—μ„λ” "ν΄λμ¤-λ³„" ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄μ„ μ‚¬μ©ν•μ§€ μ•λ” ν• @BeforeAll λ° @AfterAll λ©”μ„λ“λ¥Ό @Nested ν…μ¤νΈ ν΄λμ¤μ—μ„ μ§μ ‘ μ‚¬μ©ν•  μ μ—†λ‹¤. `Java16`λ¶€ν„°λ” [ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄]{:target="_blank"} λ¨λ“ μ¤‘ ν•λ‚λ¥Ό μ‚¬μ©ν•μ—¬ `@Nested` ν…μ¤νΈ ν΄λμ¤μ—μ„ `@BeforeAll` λ° `@AfterAll` λ©”μ„λ“λ¥Ό `μ •μ (static)`μΌλ΅ μ„ μ–Έν•  μ μλ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λμ§€ μ•λ”λ‹¤.                   |
| `@Tag`                    | `Class` λλ” `Method` μμ¤€μ—μ„ [ν…μ¤νΈλ¥Ό ν•„ν„°λ§ν•κΈ° μ„ν• νƒκ·Έ]{:target="_blank"}λ¥Ό μ„ μ–Έν•λ” λ° μ‚¬μ©λλ©°, `TestNG` λλ” `JUnit4`μ λ²”μ£Όμ— μλ” ν…μ¤νΈ κ·Έλ£Ήκ³Ό μ μ‚¬ν•λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ **ν΄λμ¤** μμ¤€μ—μ„λ” *μƒμ†*λμ§€λ§, **λ©”μ„λ“** μμ¤€μ—μ„λ” *μƒμ†*λμ§€ μ•λ”λ‹¤.                                                                                                                                                                                                          |
| `@Disabled`               | `Test Class` λλ” `Test Method`λ¥Ό [λΉ„ν™μ„±ν™”]{:target="_blank"}ν•λ” λ° μ‚¬μ©λλ©°, `JUnit4`μ `@Ignore`μ™€ μ μ‚¬ν•λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λμ§€ μ•λ”λ‹¤.                                                                                                                                                                                                                                                                         |
| `@Timeout`                | `@Test`, `@TestFactory`, `@TestTemplate` λλ” `lifecycle method`μ μ‹¤ν–‰μ΄ μ§€μ •λ κΈ°κ°„μ„ **μ΄κ³Ό**ν•λ” κ²½μ° **μ‹¤ν¨**ν•λ” λ° μ‚¬μ©λλ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                 |
| `@ExtendWith`             | [ν™•μ¥μ„ μ„ μ–Έμ μΌλ΅ λ“±λ΅]{:target="_blank"}ν•λ” λ° μ‚¬μ©λλ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ€ *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                                               |
| `@RegisterExtension`      | [ν•„λ“λ¥Ό ν†µν•΄ ν™•μ¥μ„ ν”„λ΅κ·Έλλ° λ°©μ‹μΌλ΅ λ“±λ΅]{:target="_blank"}ν•λ” λ° μ‚¬μ©λλ‹¤. μ΄λ¬ν• ν•„λ“λ” *μμ* μ²λ¦¬λμ§€ μ•λ” ν• *μƒμ†*λλ‹¤.                                                                                                                                                                                                                                                                                                       |
| `@TempDir`                | `lifecycle method` λλ” `test method`μ—μ„ ν•„λ“ μ£Όμ… λλ” λ§¤κ°λ³€μ μ£Όμ…μ„ ν†µν•΄ [μ„μ‹ λ””λ ‰ν„°λ¦¬]{:target="_blank"}λ¥Ό μ κ³µν•λ” λ° μ‚¬μ©λλ©°, `org.junit.jupiter.api.io` ν¨ν‚¤μ§€μ— μλ‹¤.                                                                                                                                                                                                                                                    |

Continue with [[JUnit5] JUnit5 μ–΄λ…Έν…μ΄μ…](./2023-06-08-junit5-annotations.md){:.heading.flip-title}
{:.read-more}

## JUnit4 vs JUnit5 @Annotations μƒλ…μ£ΌκΈ°(LifeCycle)

| **`Feature`**                                                                                             | **`JUnit4`**   | **`JUnit5`**   |
|:----------------------------------------------------------------------------------------------------------|:---------------|:---------------|
| Test Methodμ„μ„ μ„ μ–Έ                                                                                          | `@Test`        | `@Test`        |
| ν•΄λ‹Ή ν΄λμ¤μ— μ„μΉν• λ¨λ“  ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ **μ „**μ— **λ”± ν• λ²** μ‹¤ν–‰λλ” λ©”μ„λ“. `@BeforeAll` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„  `static`μ„ μ„ μ–Έν•΄μ¤μ•Ό ν•λ‹¤.     | `@BeforeClass` | `@BeforeAll`   |
| ν•΄λ‹Ή ν΄λμ¤μ— μ„μΉν• λ¨λ“  ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ **ν›„**μ— **λ”± ν• λ²** μ‹¤ν–‰λλ” λ©”μ„λ“ `@AfterAll` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„  `static`μ„ μ„ μ–Έν•΄μ¤μ•Ό ν•λ‹¤.      | `@AfterClass`  | `@AfterAll`    |
| ν•΄λ‹Ή ν΄λμ¤μ— μ„μΉν• λ¨λ“  ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ **μ „**μ— μ‹¤ν–‰λλ” λ©”μ„λ“                                                                 | `@Before`      | `@BeforeEach`  |
| ν•΄λ‹Ή ν΄λμ¤μ— μ„μΉν• λ¨λ“  ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ **ν›„**μ— μ‹¤ν–‰λλ” λ©”μ„λ“                                                                 | `@After`       | `@AfterEach`   |
| `Test Method`λ‚ `Class`λ¥Ό **λΉ„ν™μ„±ν™”**                                                                          | `@Ignore`      | `@Disabled`    |
| λ™μ  ν…μ¤νΈμ— μ‚¬μ©                                                                                                | N/A            | `@TestFactory` |
| μ¤‘μ²© ν…μ¤νΈμ— μ‚¬μ©                                                                                                | N/A            | `@Nested`      |
| νƒκ·Έ μ§€μ • λ° ν•„ν„°λ§                                                                                               | `@Category`    | `@Tag`         |
| ν™•μ¥μ„ μ„ μ–Έμ μΌλ΅ λ“±λ΅ν•  λ• μ‚¬μ©                                                                                        | N/A            | `@ExtendWith`  |

### @BeforeAll vs @BeforeEach μ™€ @AfterAll vs @AfterEach

- λ‘ κ° μ–΄λ…Έν…μ΄μ… λ¨λ‘ ν•λ‚ νΉμ€ μ—¬λ¬ κ°μ ν…μ¤νΈ μ΅°κ±΄μ„ `setup`ν•  λ• μ‚¬μ©ν•μ§€λ§ ν•λ‚μ ν…μ¤νΈ ν΄λμ¤ μ•μ— μ—¬λ¬ κ°μ ν…μ¤νΈκ°€ μλ” κ²½μ° `@BeforeEach`μ™€ `@AfterEach`λ” μ—¬λ¬λ² μ‹¤ν–‰λμ§€λ§, `@BeforeAll`μ™€ `@AfterAll`μ€ λ”± ν• λ²λ§ μ‹¤ν–‰λλ‹¤.
- `@BeforeEach`μ™€ `@AfterEach`λ” `@Test` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ„λ“κ°€ μ‹¤ν–‰μ΄ λκΈ° μ „(`@BeforeEach`)κ³Ό ν›„(`@AfterEach`) μ‹¤ν–‰μ΄ λλ‹¤.
- `@BeforeAll`κ³Ό `@AfterAll`μ€ ν•΄λ‹Ή ν΄λμ¤ λ‚΄μ— μ²μ μ‹μ‘(`@BeforeAll`)κ³Ό λ§¨ λ§μ§€λ§‰ λ(`@AfterAll`)μ— μ‹¤ν–‰μ΄ λλ‹¤.

#### JUnit5 LifeCycle μμ‹

```java
class JUnit5LifeCycleTest {

    @BeforeAll
    static void setup() {
        System.out.println("@BeforeAll - executes once before all test methods in this class");
    }
  
    @BeforeEach
    void init() {
        System.out.println("@BeforeEach - executes before each test method in this class");
    }
  
    @AfterEach
    void tearDown() {
        System.out.println("@AfterEach - executed after each test method.");
    }
  
    @AfterAll
    static void tearDownAll() {
        System.out.println("@AfterAll - executed after all test methods.");
    }
  
    @Test
    void successTest1() {
        System.out.println("executes successTest1");
        assumeTrue("abc".contains("a"));
    }
  
    @Test
    void successTest2() {
        System.out.println("executes successTest2");
        assumeTrue("abc".contains("b"));
    }

    @Test
    @Disabled("λ¬Έμ κ°€ ν•΄κ²°λ  λ•κΉμ§€ ν…μ¤νΈ μ¤‘λ‹¨")
    void successTest3() {
        System.out.println("executes successTest3");
        assumeTrue("abc".contains("c"));
    }
    
    // μ¶λ ¥ ---------------------------------------------------------
    /*
      @BeforeAll - executes once before all test methods in this class
      @BeforeEach - executes before each test method in this class
      executes successTest1
      @AfterEach - executed after each test method.
      @BeforeEach - executes before each test method in this class
      executes successTest2
      @AfterEach - executed after each test method.
      @AfterAll - executed after all test methods.
    */
}
```

##### κ²°κ³Ό μ¶λ ¥

![](/assets/img/development/server/2023-06-01/junit_lifecycle_example.png){:.centered width="80%"}
**JUnit5 LifeCycle Example 1**
{:.figcaption}

## Assertions
- μ‹¤μ  ν…μ¤νΈμ—μ„ **κ²€μ¦**ν•κ³ μ ν•λ” λ‚΄μ©μ„ **ν™•μΈ**ν•λ” κΈ°λ¥μ„ μ κ³µν•λ” ν¨ν‚¤μ§€μ΄λ‹¤. 
- **μ‹¤μ  κ°’(`actual`)**μ΄ **κΈ°λ€ν• κ°’(`expected`)**κ³Ό κ°™μ€μ§€ **ν™•μΈ**ν•λ” λ©”μ„λ“μ΄λ‹¤.
- `Assertions`μ— λ€ν•΄μ„λ” μ•„λ ν¬μ¤ν…μ—μ„ μμ„Έν λ‹¤λ£¨κ³  μμµλ‹λ‹¤.

Continue with [[JUnit5] JUnit5 Assertions](./2023-06-08-junit5-assertions.md){:.heading.flip-title}
{:.read-more}

# Reference
- [JUnit5](https://junit.org/junit5/docs/current/user-guide/){:target="_blank"}
- [[10λ¶„ ν…μ½”ν†΅] π λ°”λ‹¤μ JUnit5 μ‚¬μ©λ²•](https://www.youtube.com/watch?v=EwI3E9Natcw&t=1s){:target="_blank"}
- [JetBrains μ„¤λ¬Έμ΅°μ‚¬](https://www.jetbrains.com/lp/devecosystem-2019/java/){:target="_blank"}
- [MANNING FREE CONTENT CENTER](https://freecontent.manning.com/junit-5-architecture/){:target="_blank"}
- [JUnit5 ν•„μ κ°λ… μ •λ¦¬ (JAVA)](https://steady-coding.tistory.com/349){:target="_blank"}
- [JUnit5 μ•μ•„λ³΄κΈ°](https://beomseok95.tistory.com/303){:target="_blank"}
- [JUnit5 Platform](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html){:target="_blank"}
- [Using JUnit5 with Gradle](https://www.baeldung.com/junit-5-gradle){:target="_blank"}

<!-- Links -->
[JetBrains]: https://www.jetbrains.com/lp/devecosystem-2019/java/
[λ§¤κ°λ³€μν™”λ ν…μ¤νΈ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests
[λ°λ³µ ν…μ¤νΈ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-repeated-tests
[λ™μ  ν…μ¤νΈ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests
[ν…μ¤νΈ μΌ€μ΄μ¤μ© ν…ν”λ¦Ώ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-templates
[ν…μ¤νΈ ν΄λμ¤ μ‹¤ν–‰ μμ„]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-classes
[ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ μμ„]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods
[ν…μ¤νΈ μΈμ¤ν„΄μ¤ λΌμ΄ν”„μ‚¬μ΄ν΄]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle
[λ””μ¤ν”λ μ΄ μ΄λ¦„]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names
[λ””μ¤ν”λ μ΄ μ΄λ¦„ μƒμ„±κΈ°]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-name-generator
[μ¤‘μ²©λ ν…μ¤νΈ ν΄λμ¤]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-nested
[ν…μ¤νΈλ¥Ό ν•„ν„°λ§ν•κΈ° μ„ν• νƒκ·Έ]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-tagging-and-filtering
[λΉ„ν™μ„±ν™”]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-disabling
[ν™•μ¥μ„ μ„ μ–Έμ μΌλ΅ λ“±λ΅]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative
[ν•„λ“λ¥Ό ν†µν•΄ ν™•μ¥μ„ ν”„λ΅κ·Έλλ° λ°©μ‹μΌλ΅ λ“±λ΅]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic
[μ„μ‹ λ””λ ‰ν„°λ¦¬]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory
[JUnit5 Platform]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html
[Using JUnit5 with Gradle]: https://www.baeldung.com/junit-5-gradle